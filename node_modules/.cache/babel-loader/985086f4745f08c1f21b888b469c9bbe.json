{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as nodes from '../parser/cssNodes.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { difference } from '../utils/strings.js';\nimport { Rules } from '../services/lintRules.js';\nimport { Command, TextEdit, CodeAction, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier } from '../cssLanguageTypes.js';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\n\nvar CSSCodeActions =\n/** @class */\nfunction () {\n  function CSSCodeActions() {}\n\n  CSSCodeActions.prototype.doCodeActions = function (document, range, context, stylesheet) {\n    return this.doCodeActions2(document, range, context, stylesheet).map(function (ca) {\n      var textDocumentEdit = ca.edit && ca.edit.documentChanges && ca.edit.documentChanges[0];\n      return Command.create(ca.title, '_css.applyCodeAction', document.uri, document.version, textDocumentEdit && textDocumentEdit.edits);\n    });\n  };\n\n  CSSCodeActions.prototype.doCodeActions2 = function (document, range, context, stylesheet) {\n    var result = [];\n\n    if (context.diagnostics) {\n      for (var _i = 0, _a = context.diagnostics; _i < _a.length; _i++) {\n        var diagnostic = _a[_i];\n        this.appendFixesForMarker(document, stylesheet, diagnostic, result);\n      }\n    }\n\n    return result;\n  };\n\n  CSSCodeActions.prototype.getFixesForUnknownProperty = function (document, property, marker, result) {\n    var propertyName = property.getName();\n    var candidates = [];\n    languageFacts.cssDataManager.getProperties().forEach(function (p) {\n      var score = difference(propertyName, p.name);\n\n      if (score >= propertyName.length / 2\n      /*score_lim*/\n      ) {\n          candidates.push({\n            property: p.name,\n            score: score\n          });\n        }\n    }); // Sort in descending order.\n\n    candidates.sort(function (a, b) {\n      return b.score - a.score;\n    });\n    var maxActions = 3;\n\n    for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n      var candidate = candidates_1[_i];\n      var propertyName_1 = candidate.property;\n      var title = localize('css.codeaction.rename', \"Rename to '{0}'\", propertyName_1);\n      var edit = TextEdit.replace(marker.range, propertyName_1);\n      var documentIdentifier = VersionedTextDocumentIdentifier.create(document.uri, document.version);\n      var workspaceEdit = {\n        documentChanges: [TextDocumentEdit.create(documentIdentifier, [edit])]\n      };\n      var codeAction = CodeAction.create(title, workspaceEdit, CodeActionKind.QuickFix);\n      codeAction.diagnostics = [marker];\n      result.push(codeAction);\n\n      if (--maxActions <= 0) {\n        return;\n      }\n    }\n  };\n\n  CSSCodeActions.prototype.appendFixesForMarker = function (document, stylesheet, marker, result) {\n    if (marker.code !== Rules.UnknownProperty.id) {\n      return;\n    }\n\n    var offset = document.offsetAt(marker.range.start);\n    var end = document.offsetAt(marker.range.end);\n    var nodepath = nodes.getNodePath(stylesheet, offset);\n\n    for (var i = nodepath.length - 1; i >= 0; i--) {\n      var node = nodepath[i];\n\n      if (node instanceof nodes.Declaration) {\n        var property = node.getProperty();\n\n        if (property && property.offset === offset && property.end === end) {\n          this.getFixesForUnknownProperty(document, property, marker, result);\n          return;\n        }\n      }\n    }\n  };\n\n  return CSSCodeActions;\n}();\n\nexport { CSSCodeActions };","map":{"version":3,"sources":["/home/chaithra/Documents/customised/customised/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssCodeActions.js"],"names":["nodes","languageFacts","difference","Rules","Command","TextEdit","CodeAction","CodeActionKind","TextDocumentEdit","VersionedTextDocumentIdentifier","nls","localize","loadMessageBundle","CSSCodeActions","prototype","doCodeActions","document","range","context","stylesheet","doCodeActions2","map","ca","textDocumentEdit","edit","documentChanges","create","title","uri","version","edits","result","diagnostics","_i","_a","length","diagnostic","appendFixesForMarker","getFixesForUnknownProperty","property","marker","propertyName","getName","candidates","cssDataManager","getProperties","forEach","p","score","name","push","sort","a","b","maxActions","candidates_1","candidate","propertyName_1","replace","documentIdentifier","workspaceEdit","codeAction","QuickFix","code","UnknownProperty","id","offset","offsetAt","start","end","nodepath","getNodePath","i","node","Declaration","getProperty"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport * as nodes from '../parser/cssNodes.js';\nimport * as languageFacts from '../languageFacts/facts.js';\nimport { difference } from '../utils/strings.js';\nimport { Rules } from '../services/lintRules.js';\nimport { Command, TextEdit, CodeAction, CodeActionKind, TextDocumentEdit, VersionedTextDocumentIdentifier } from '../cssLanguageTypes.js';\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar CSSCodeActions = /** @class */ (function () {\n    function CSSCodeActions() {\n    }\n    CSSCodeActions.prototype.doCodeActions = function (document, range, context, stylesheet) {\n        return this.doCodeActions2(document, range, context, stylesheet).map(function (ca) {\n            var textDocumentEdit = ca.edit && ca.edit.documentChanges && ca.edit.documentChanges[0];\n            return Command.create(ca.title, '_css.applyCodeAction', document.uri, document.version, textDocumentEdit && textDocumentEdit.edits);\n        });\n    };\n    CSSCodeActions.prototype.doCodeActions2 = function (document, range, context, stylesheet) {\n        var result = [];\n        if (context.diagnostics) {\n            for (var _i = 0, _a = context.diagnostics; _i < _a.length; _i++) {\n                var diagnostic = _a[_i];\n                this.appendFixesForMarker(document, stylesheet, diagnostic, result);\n            }\n        }\n        return result;\n    };\n    CSSCodeActions.prototype.getFixesForUnknownProperty = function (document, property, marker, result) {\n        var propertyName = property.getName();\n        var candidates = [];\n        languageFacts.cssDataManager.getProperties().forEach(function (p) {\n            var score = difference(propertyName, p.name);\n            if (score >= propertyName.length / 2 /*score_lim*/) {\n                candidates.push({ property: p.name, score: score });\n            }\n        });\n        // Sort in descending order.\n        candidates.sort(function (a, b) {\n            return b.score - a.score;\n        });\n        var maxActions = 3;\n        for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n            var candidate = candidates_1[_i];\n            var propertyName_1 = candidate.property;\n            var title = localize('css.codeaction.rename', \"Rename to '{0}'\", propertyName_1);\n            var edit = TextEdit.replace(marker.range, propertyName_1);\n            var documentIdentifier = VersionedTextDocumentIdentifier.create(document.uri, document.version);\n            var workspaceEdit = { documentChanges: [TextDocumentEdit.create(documentIdentifier, [edit])] };\n            var codeAction = CodeAction.create(title, workspaceEdit, CodeActionKind.QuickFix);\n            codeAction.diagnostics = [marker];\n            result.push(codeAction);\n            if (--maxActions <= 0) {\n                return;\n            }\n        }\n    };\n    CSSCodeActions.prototype.appendFixesForMarker = function (document, stylesheet, marker, result) {\n        if (marker.code !== Rules.UnknownProperty.id) {\n            return;\n        }\n        var offset = document.offsetAt(marker.range.start);\n        var end = document.offsetAt(marker.range.end);\n        var nodepath = nodes.getNodePath(stylesheet, offset);\n        for (var i = nodepath.length - 1; i >= 0; i--) {\n            var node = nodepath[i];\n            if (node instanceof nodes.Declaration) {\n                var property = node.getProperty();\n                if (property && property.offset === offset && property.end === end) {\n                    this.getFixesForUnknownProperty(document, property, marker, result);\n                    return;\n                }\n            }\n        }\n    };\n    return CSSCodeActions;\n}());\nexport { CSSCodeActions };\n"]},"metadata":{},"sourceType":"module"}