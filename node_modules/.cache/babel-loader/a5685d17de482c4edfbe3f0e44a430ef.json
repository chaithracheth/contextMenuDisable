{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport { Range, SelectionRange } from '../cssLanguageTypes.js';\nimport { NodeType } from '../parser/cssNodes.js';\nexport function getSelectionRanges(document, positions, stylesheet) {\n  function getSelectionRange(position) {\n    var applicableRanges = getApplicableRanges(position);\n    var current = undefined;\n\n    for (var index = applicableRanges.length - 1; index >= 0; index--) {\n      current = SelectionRange.create(Range.create(document.positionAt(applicableRanges[index][0]), document.positionAt(applicableRanges[index][1])), current);\n    }\n\n    if (!current) {\n      current = SelectionRange.create(Range.create(position, position));\n    }\n\n    return current;\n  }\n\n  return positions.map(getSelectionRange);\n\n  function getApplicableRanges(position) {\n    var currNode = stylesheet.findChildAtOffset(document.offsetAt(position), true);\n\n    if (!currNode) {\n      return [];\n    }\n\n    var result = [];\n\n    while (currNode) {\n      if (currNode.parent && currNode.offset === currNode.parent.offset && currNode.end === currNode.parent.end) {\n        currNode = currNode.parent;\n        continue;\n      }\n\n      if (currNode.type === NodeType.Declarations) {\n        result.push([currNode.offset + 1, currNode.end - 1]);\n      } else {\n        result.push([currNode.offset, currNode.end]);\n      }\n\n      currNode = currNode.parent;\n    }\n\n    return result;\n  }\n}","map":{"version":3,"sources":["/home/chaithra/Documents/customised/customised/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/cssSelectionRange.js"],"names":["Range","SelectionRange","NodeType","getSelectionRanges","document","positions","stylesheet","getSelectionRange","position","applicableRanges","getApplicableRanges","current","undefined","index","length","create","positionAt","map","currNode","findChildAtOffset","offsetAt","result","parent","offset","end","type","Declarations","push"],"mappings":"AAAA;;;;AAIA;;AACA,SAASA,KAAT,EAAgBC,cAAhB,QAAsC,wBAAtC;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,OAAO,SAASC,kBAAT,CAA4BC,QAA5B,EAAsCC,SAAtC,EAAiDC,UAAjD,EAA6D;AAChE,WAASC,iBAAT,CAA2BC,QAA3B,EAAqC;AACjC,QAAIC,gBAAgB,GAAGC,mBAAmB,CAACF,QAAD,CAA1C;AACA,QAAIG,OAAO,GAAGC,SAAd;;AACA,SAAK,IAAIC,KAAK,GAAGJ,gBAAgB,CAACK,MAAjB,GAA0B,CAA3C,EAA8CD,KAAK,IAAI,CAAvD,EAA0DA,KAAK,EAA/D,EAAmE;AAC/DF,MAAAA,OAAO,GAAGV,cAAc,CAACc,MAAf,CAAsBf,KAAK,CAACe,MAAN,CAAaX,QAAQ,CAACY,UAAT,CAAoBP,gBAAgB,CAACI,KAAD,CAAhB,CAAwB,CAAxB,CAApB,CAAb,EAA8DT,QAAQ,CAACY,UAAT,CAAoBP,gBAAgB,CAACI,KAAD,CAAhB,CAAwB,CAAxB,CAApB,CAA9D,CAAtB,EAAsIF,OAAtI,CAAV;AACH;;AACD,QAAI,CAACA,OAAL,EAAc;AACVA,MAAAA,OAAO,GAAGV,cAAc,CAACc,MAAf,CAAsBf,KAAK,CAACe,MAAN,CAAaP,QAAb,EAAuBA,QAAvB,CAAtB,CAAV;AACH;;AACD,WAAOG,OAAP;AACH;;AACD,SAAON,SAAS,CAACY,GAAV,CAAcV,iBAAd,CAAP;;AACA,WAASG,mBAAT,CAA6BF,QAA7B,EAAuC;AACnC,QAAIU,QAAQ,GAAGZ,UAAU,CAACa,iBAAX,CAA6Bf,QAAQ,CAACgB,QAAT,CAAkBZ,QAAlB,CAA7B,EAA0D,IAA1D,CAAf;;AACA,QAAI,CAACU,QAAL,EAAe;AACX,aAAO,EAAP;AACH;;AACD,QAAIG,MAAM,GAAG,EAAb;;AACA,WAAOH,QAAP,EAAiB;AACb,UAAIA,QAAQ,CAACI,MAAT,IACAJ,QAAQ,CAACK,MAAT,KAAoBL,QAAQ,CAACI,MAAT,CAAgBC,MADpC,IAEAL,QAAQ,CAACM,GAAT,KAAiBN,QAAQ,CAACI,MAAT,CAAgBE,GAFrC,EAE0C;AACtCN,QAAAA,QAAQ,GAAGA,QAAQ,CAACI,MAApB;AACA;AACH;;AACD,UAAIJ,QAAQ,CAACO,IAAT,KAAkBvB,QAAQ,CAACwB,YAA/B,EAA6C;AACzCL,QAAAA,MAAM,CAACM,IAAP,CAAY,CAACT,QAAQ,CAACK,MAAT,GAAkB,CAAnB,EAAsBL,QAAQ,CAACM,GAAT,GAAe,CAArC,CAAZ;AACH,OAFD,MAGK;AACDH,QAAAA,MAAM,CAACM,IAAP,CAAY,CAACT,QAAQ,CAACK,MAAV,EAAkBL,QAAQ,CAACM,GAA3B,CAAZ;AACH;;AACDN,MAAAA,QAAQ,GAAGA,QAAQ,CAACI,MAApB;AACH;;AACD,WAAOD,MAAP;AACH;AACJ","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nimport { Range, SelectionRange } from '../cssLanguageTypes.js';\nimport { NodeType } from '../parser/cssNodes.js';\nexport function getSelectionRanges(document, positions, stylesheet) {\n    function getSelectionRange(position) {\n        var applicableRanges = getApplicableRanges(position);\n        var current = undefined;\n        for (var index = applicableRanges.length - 1; index >= 0; index--) {\n            current = SelectionRange.create(Range.create(document.positionAt(applicableRanges[index][0]), document.positionAt(applicableRanges[index][1])), current);\n        }\n        if (!current) {\n            current = SelectionRange.create(Range.create(position, position));\n        }\n        return current;\n    }\n    return positions.map(getSelectionRange);\n    function getApplicableRanges(position) {\n        var currNode = stylesheet.findChildAtOffset(document.offsetAt(position), true);\n        if (!currNode) {\n            return [];\n        }\n        var result = [];\n        while (currNode) {\n            if (currNode.parent &&\n                currNode.offset === currNode.parent.offset &&\n                currNode.end === currNode.parent.end) {\n                currNode = currNode.parent;\n                continue;\n            }\n            if (currNode.type === NodeType.Declarations) {\n                result.push([currNode.offset + 1, currNode.end - 1]);\n            }\n            else {\n                result.push([currNode.offset, currNode.end]);\n            }\n            currNode = currNode.parent;\n        }\n        return result;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}