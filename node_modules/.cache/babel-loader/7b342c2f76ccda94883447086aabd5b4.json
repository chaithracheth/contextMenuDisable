{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport * as nodes from '../parser/cssNodes.js';\nimport { Scanner } from '../parser/cssScanner.js';\nimport * as languageFacts from \"../languageFacts/facts.js\";\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\n\nvar Element =\n/** @class */\nfunction () {\n  function Element() {\n    this.parent = null;\n    this.children = null;\n    this.attributes = null;\n  }\n\n  Element.prototype.findAttribute = function (name) {\n    if (this.attributes) {\n      for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n        var attribute = _a[_i];\n\n        if (attribute.name === name) {\n          return attribute.value;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Element.prototype.addChild = function (child) {\n    if (child instanceof Element) {\n      child.parent = this;\n    }\n\n    if (!this.children) {\n      this.children = [];\n    }\n\n    this.children.push(child);\n  };\n\n  Element.prototype.append = function (text) {\n    if (this.attributes) {\n      var last = this.attributes[this.attributes.length - 1];\n      last.value = last.value + text;\n    }\n  };\n\n  Element.prototype.prepend = function (text) {\n    if (this.attributes) {\n      var first = this.attributes[0];\n      first.value = text + first.value;\n    }\n  };\n\n  Element.prototype.findRoot = function () {\n    var curr = this;\n\n    while (curr.parent && !(curr.parent instanceof RootElement)) {\n      curr = curr.parent;\n    }\n\n    return curr;\n  };\n\n  Element.prototype.removeChild = function (child) {\n    if (this.children) {\n      var index = this.children.indexOf(child);\n\n      if (index !== -1) {\n        this.children.splice(index, 1);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Element.prototype.addAttr = function (name, value) {\n    if (!this.attributes) {\n      this.attributes = [];\n    }\n\n    for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n      var attribute = _a[_i];\n\n      if (attribute.name === name) {\n        attribute.value += ' ' + value;\n        return;\n      }\n    }\n\n    this.attributes.push({\n      name: name,\n      value: value\n    });\n  };\n\n  Element.prototype.clone = function (cloneChildren) {\n    if (cloneChildren === void 0) {\n      cloneChildren = true;\n    }\n\n    var elem = new Element();\n\n    if (this.attributes) {\n      elem.attributes = [];\n\n      for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n        var attribute = _a[_i];\n        elem.addAttr(attribute.name, attribute.value);\n      }\n    }\n\n    if (cloneChildren && this.children) {\n      elem.children = [];\n\n      for (var index = 0; index < this.children.length; index++) {\n        elem.addChild(this.children[index].clone());\n      }\n    }\n\n    return elem;\n  };\n\n  Element.prototype.cloneWithParent = function () {\n    var clone = this.clone(false);\n\n    if (this.parent && !(this.parent instanceof RootElement)) {\n      var parentClone = this.parent.cloneWithParent();\n      parentClone.addChild(clone);\n    }\n\n    return clone;\n  };\n\n  return Element;\n}();\n\nexport { Element };\n\nvar RootElement =\n/** @class */\nfunction (_super) {\n  __extends(RootElement, _super);\n\n  function RootElement() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return RootElement;\n}(Element);\n\nexport { RootElement };\n\nvar LabelElement =\n/** @class */\nfunction (_super) {\n  __extends(LabelElement, _super);\n\n  function LabelElement(label) {\n    var _this = _super.call(this) || this;\n\n    _this.addAttr('name', label);\n\n    return _this;\n  }\n\n  return LabelElement;\n}(Element);\n\nexport { LabelElement };\n\nvar MarkedStringPrinter =\n/** @class */\nfunction () {\n  function MarkedStringPrinter(quote) {\n    this.quote = quote;\n    this.result = []; // empty\n  }\n\n  MarkedStringPrinter.prototype.print = function (element) {\n    this.result = [];\n\n    if (element instanceof RootElement) {\n      if (element.children) {\n        this.doPrint(element.children, 0);\n      }\n    } else {\n      this.doPrint([element], 0);\n    }\n\n    var value = this.result.join('\\n');\n    return [{\n      language: 'html',\n      value: value\n    }];\n  };\n\n  MarkedStringPrinter.prototype.doPrint = function (elements, indent) {\n    for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n      var element = elements_1[_i];\n      this.doPrintElement(element, indent);\n\n      if (element.children) {\n        this.doPrint(element.children, indent + 1);\n      }\n    }\n  };\n\n  MarkedStringPrinter.prototype.writeLine = function (level, content) {\n    var indent = new Array(level + 1).join('  ');\n    this.result.push(indent + content);\n  };\n\n  MarkedStringPrinter.prototype.doPrintElement = function (element, indent) {\n    var name = element.findAttribute('name'); // special case: a simple label\n\n    if (element instanceof LabelElement || name === '\\u2026') {\n      this.writeLine(indent, name);\n      return;\n    } // the real deal\n\n\n    var content = ['<']; // element name\n\n    if (name) {\n      content.push(name);\n    } else {\n      content.push('element');\n    } // attributes\n\n\n    if (element.attributes) {\n      for (var _i = 0, _a = element.attributes; _i < _a.length; _i++) {\n        var attr = _a[_i];\n\n        if (attr.name !== 'name') {\n          content.push(' ');\n          content.push(attr.name);\n          var value = attr.value;\n\n          if (value) {\n            content.push('=');\n            content.push(quotes.ensure(value, this.quote));\n          }\n        }\n      }\n    }\n\n    content.push('>');\n    this.writeLine(indent, content.join(''));\n  };\n\n  return MarkedStringPrinter;\n}();\n\nvar quotes;\n\n(function (quotes) {\n  function ensure(value, which) {\n    return which + remove(value) + which;\n  }\n\n  quotes.ensure = ensure;\n\n  function remove(value) {\n    var match = value.match(/^['\"](.*)[\"']$/);\n\n    if (match) {\n      return match[1];\n    }\n\n    return value;\n  }\n\n  quotes.remove = remove;\n})(quotes || (quotes = {}));\n\nvar Specificity =\n/** @class */\nfunction () {\n  function Specificity() {\n    /** Count of identifiers (e.g., `#app`) */\n    this.id = 0;\n    /** Count of attributes (`[type=\"number\"]`), classes (`.container-fluid`), and pseudo-classes (`:hover`) */\n\n    this.attr = 0;\n    /** Count of tag names (`div`), and pseudo-elements (`::before`) */\n\n    this.tag = 0;\n  }\n\n  return Specificity;\n}();\n\nexport function toElement(node, parentElement) {\n  var result = new Element();\n\n  for (var _i = 0, _a = node.getChildren(); _i < _a.length; _i++) {\n    var child = _a[_i];\n\n    switch (child.type) {\n      case nodes.NodeType.SelectorCombinator:\n        if (parentElement) {\n          var segments = child.getText().split('&');\n\n          if (segments.length === 1) {\n            // should not happen\n            result.addAttr('name', segments[0]);\n            break;\n          }\n\n          result = parentElement.cloneWithParent();\n\n          if (segments[0]) {\n            var root = result.findRoot();\n            root.prepend(segments[0]);\n          }\n\n          for (var i = 1; i < segments.length; i++) {\n            if (i > 1) {\n              var clone = parentElement.cloneWithParent();\n              result.addChild(clone.findRoot());\n              result = clone;\n            }\n\n            result.append(segments[i]);\n          }\n        }\n\n        break;\n\n      case nodes.NodeType.SelectorPlaceholder:\n        if (child.matches('@at-root')) {\n          return result;\n        }\n\n      // fall through\n\n      case nodes.NodeType.ElementNameSelector:\n        var text = child.getText();\n        result.addAttr('name', text === '*' ? 'element' : unescape(text));\n        break;\n\n      case nodes.NodeType.ClassSelector:\n        result.addAttr('class', unescape(child.getText().substring(1)));\n        break;\n\n      case nodes.NodeType.IdentifierSelector:\n        result.addAttr('id', unescape(child.getText().substring(1)));\n        break;\n\n      case nodes.NodeType.MixinDeclaration:\n        result.addAttr('class', child.getName());\n        break;\n\n      case nodes.NodeType.PseudoSelector:\n        result.addAttr(unescape(child.getText()), '');\n        break;\n\n      case nodes.NodeType.AttributeSelector:\n        var selector = child;\n        var identifier = selector.getIdentifier();\n\n        if (identifier) {\n          var expression = selector.getValue();\n          var operator = selector.getOperator();\n          var value = void 0;\n\n          if (expression && operator) {\n            switch (unescape(operator.getText())) {\n              case '|=':\n                // excatly or followed by -words\n                value = quotes.remove(unescape(expression.getText())) + \"-\\u2026\";\n                break;\n\n              case '^=':\n                // prefix\n                value = quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                break;\n\n              case '$=':\n                // suffix\n                value = \"\\u2026\" + quotes.remove(unescape(expression.getText()));\n                break;\n\n              case '~=':\n                // one of a list of words\n                value = \" \\u2026 \" + quotes.remove(unescape(expression.getText())) + \" \\u2026 \";\n                break;\n\n              case '*=':\n                // substring\n                value = \"\\u2026\" + quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                break;\n\n              default:\n                value = quotes.remove(unescape(expression.getText()));\n                break;\n            }\n          }\n\n          result.addAttr(unescape(identifier.getText()), value);\n        }\n\n        break;\n    }\n  }\n\n  return result;\n}\n\nfunction unescape(content) {\n  var scanner = new Scanner();\n  scanner.setSource(content);\n  var token = scanner.scanUnquotedString();\n\n  if (token) {\n    return token.text;\n  }\n\n  return content;\n}\n\nfunction isPseudoElementIdentifier(text) {\n  var match = text.match(/^::?([\\w-]+)/);\n\n  if (!match) {\n    return false;\n  }\n\n  return !!languageFacts.cssDataManager.getPseudoElement(\"::\" + match[1]);\n}\n\nfunction selectorToSpecificityMarkedString(node) {\n  //https://www.w3.org/TR/selectors-3/#specificity\n  function calculateScore(node) {\n    node.getChildren().forEach(function (element) {\n      switch (element.type) {\n        case nodes.NodeType.IdentifierSelector:\n          specificity.id++;\n          break;\n\n        case nodes.NodeType.ClassSelector:\n        case nodes.NodeType.AttributeSelector:\n          specificity.attr++;\n          break;\n\n        case nodes.NodeType.ElementNameSelector:\n          //ignore universal selector\n          if (element.matches(\"*\")) {\n            break;\n          }\n\n          specificity.tag++;\n          break;\n\n        case nodes.NodeType.PseudoSelector:\n          var text = element.getText();\n\n          if (isPseudoElementIdentifier(text)) {\n            specificity.tag++; // pseudo element\n          } else {\n            //ignore psuedo class NOT\n            if (text.match(/^:not/i)) {\n              break;\n            }\n\n            specificity.attr++; //pseudo class\n          }\n\n          break;\n      }\n\n      if (element.getChildren().length > 0) {\n        calculateScore(element);\n      }\n    });\n  }\n\n  var specificity = new Specificity();\n  calculateScore(node);\n  return localize('specificity', \"[Selector Specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity): ({0}, {1}, {2})\", specificity.id, specificity.attr, specificity.tag);\n}\n\nexport function selectorToMarkedString(node) {\n  var root = selectorToElement(node);\n\n  if (root) {\n    var markedStrings = new MarkedStringPrinter('\"').print(root);\n    markedStrings.push(selectorToSpecificityMarkedString(node));\n    return markedStrings;\n  } else {\n    return [];\n  }\n}\nexport function simpleSelectorToMarkedString(node) {\n  var element = toElement(node);\n  var markedStrings = new MarkedStringPrinter('\"').print(element);\n  markedStrings.push(selectorToSpecificityMarkedString(node));\n  return markedStrings;\n}\n\nvar SelectorElementBuilder =\n/** @class */\nfunction () {\n  function SelectorElementBuilder(element) {\n    this.prev = null;\n    this.element = element;\n  }\n\n  SelectorElementBuilder.prototype.processSelector = function (selector) {\n    var parentElement = null;\n\n    if (!(this.element instanceof RootElement)) {\n      if (selector.getChildren().some(function (c) {\n        return c.hasChildren() && c.getChild(0).type === nodes.NodeType.SelectorCombinator;\n      })) {\n        var curr = this.element.findRoot();\n\n        if (curr.parent instanceof RootElement) {\n          parentElement = this.element;\n          this.element = curr.parent;\n          this.element.removeChild(curr);\n          this.prev = null;\n        }\n      }\n    }\n\n    for (var _i = 0, _a = selector.getChildren(); _i < _a.length; _i++) {\n      var selectorChild = _a[_i];\n\n      if (selectorChild instanceof nodes.SimpleSelector) {\n        if (this.prev instanceof nodes.SimpleSelector) {\n          var labelElement = new LabelElement('\\u2026');\n          this.element.addChild(labelElement);\n          this.element = labelElement;\n        } else if (this.prev && (this.prev.matches('+') || this.prev.matches('~')) && this.element.parent) {\n          this.element = this.element.parent;\n        }\n\n        if (this.prev && this.prev.matches('~')) {\n          this.element.addChild(toElement(selectorChild));\n          this.element.addChild(new LabelElement('\\u22EE'));\n        }\n\n        var thisElement = toElement(selectorChild, parentElement);\n        var root = thisElement.findRoot();\n        this.element.addChild(root);\n        this.element = thisElement;\n      }\n\n      if (selectorChild instanceof nodes.SimpleSelector || selectorChild.type === nodes.NodeType.SelectorCombinatorParent || selectorChild.type === nodes.NodeType.SelectorCombinatorShadowPiercingDescendant || selectorChild.type === nodes.NodeType.SelectorCombinatorSibling || selectorChild.type === nodes.NodeType.SelectorCombinatorAllSiblings) {\n        this.prev = selectorChild;\n      }\n    }\n  };\n\n  return SelectorElementBuilder;\n}();\n\nfunction isNewSelectorContext(node) {\n  switch (node.type) {\n    case nodes.NodeType.MixinDeclaration:\n    case nodes.NodeType.Stylesheet:\n      return true;\n  }\n\n  return false;\n}\n\nexport function selectorToElement(node) {\n  if (node.matches('@at-root')) {\n    return null;\n  }\n\n  var root = new RootElement();\n  var parentRuleSets = [];\n  var ruleSet = node.getParent();\n\n  if (ruleSet instanceof nodes.RuleSet) {\n    var parent = ruleSet.getParent(); // parent of the selector's ruleset\n\n    while (parent && !isNewSelectorContext(parent)) {\n      if (parent instanceof nodes.RuleSet) {\n        if (parent.getSelectors().matches('@at-root')) {\n          break;\n        }\n\n        parentRuleSets.push(parent);\n      }\n\n      parent = parent.getParent();\n    }\n  }\n\n  var builder = new SelectorElementBuilder(root);\n\n  for (var i = parentRuleSets.length - 1; i >= 0; i--) {\n    var selector = parentRuleSets[i].getSelectors().getChild(0);\n\n    if (selector) {\n      builder.processSelector(selector);\n    }\n  }\n\n  builder.processSelector(node);\n  return root;\n}","map":{"version":3,"sources":["/home/chaithra/Documents/customised/customised/node_modules/monaco-editor/esm/vs/language/css/_deps/vscode-css-languageservice/services/selectorPrinting.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","nodes","Scanner","languageFacts","nls","localize","loadMessageBundle","Element","parent","children","attributes","findAttribute","name","_i","_a","length","attribute","value","addChild","child","push","append","text","last","prepend","first","findRoot","curr","RootElement","removeChild","index","indexOf","splice","addAttr","clone","cloneChildren","elem","cloneWithParent","parentClone","_super","apply","arguments","LabelElement","label","_this","call","MarkedStringPrinter","quote","result","print","element","doPrint","join","language","elements","indent","elements_1","doPrintElement","writeLine","level","content","attr","quotes","ensure","which","remove","match","Specificity","id","tag","toElement","node","parentElement","getChildren","type","NodeType","SelectorCombinator","segments","getText","split","root","i","SelectorPlaceholder","matches","ElementNameSelector","unescape","ClassSelector","substring","IdentifierSelector","MixinDeclaration","getName","PseudoSelector","AttributeSelector","selector","identifier","getIdentifier","expression","getValue","operator","getOperator","scanner","setSource","token","scanUnquotedString","isPseudoElementIdentifier","cssDataManager","getPseudoElement","selectorToSpecificityMarkedString","calculateScore","forEach","specificity","selectorToMarkedString","selectorToElement","markedStrings","simpleSelectorToMarkedString","SelectorElementBuilder","prev","processSelector","some","c","hasChildren","getChild","selectorChild","SimpleSelector","labelElement","thisElement","SelectorCombinatorParent","SelectorCombinatorShadowPiercingDescendant","SelectorCombinatorSibling","SelectorCombinatorAllSiblings","isNewSelectorContext","Stylesheet","parentRuleSets","ruleSet","getParent","RuleSet","getSelectors","builder"],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport * as nodes from '../parser/cssNodes.js';\nimport { Scanner } from '../parser/cssScanner.js';\nimport * as languageFacts from \"../languageFacts/facts.js\";\nimport * as nls from './../../../fillers/vscode-nls.js';\nvar localize = nls.loadMessageBundle();\nvar Element = /** @class */ (function () {\n    function Element() {\n        this.parent = null;\n        this.children = null;\n        this.attributes = null;\n    }\n    Element.prototype.findAttribute = function (name) {\n        if (this.attributes) {\n            for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                if (attribute.name === name) {\n                    return attribute.value;\n                }\n            }\n        }\n        return null;\n    };\n    Element.prototype.addChild = function (child) {\n        if (child instanceof Element) {\n            child.parent = this;\n        }\n        if (!this.children) {\n            this.children = [];\n        }\n        this.children.push(child);\n    };\n    Element.prototype.append = function (text) {\n        if (this.attributes) {\n            var last = this.attributes[this.attributes.length - 1];\n            last.value = last.value + text;\n        }\n    };\n    Element.prototype.prepend = function (text) {\n        if (this.attributes) {\n            var first = this.attributes[0];\n            first.value = text + first.value;\n        }\n    };\n    Element.prototype.findRoot = function () {\n        var curr = this;\n        while (curr.parent && !(curr.parent instanceof RootElement)) {\n            curr = curr.parent;\n        }\n        return curr;\n    };\n    Element.prototype.removeChild = function (child) {\n        if (this.children) {\n            var index = this.children.indexOf(child);\n            if (index !== -1) {\n                this.children.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    };\n    Element.prototype.addAttr = function (name, value) {\n        if (!this.attributes) {\n            this.attributes = [];\n        }\n        for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n            var attribute = _a[_i];\n            if (attribute.name === name) {\n                attribute.value += ' ' + value;\n                return;\n            }\n        }\n        this.attributes.push({ name: name, value: value });\n    };\n    Element.prototype.clone = function (cloneChildren) {\n        if (cloneChildren === void 0) { cloneChildren = true; }\n        var elem = new Element();\n        if (this.attributes) {\n            elem.attributes = [];\n            for (var _i = 0, _a = this.attributes; _i < _a.length; _i++) {\n                var attribute = _a[_i];\n                elem.addAttr(attribute.name, attribute.value);\n            }\n        }\n        if (cloneChildren && this.children) {\n            elem.children = [];\n            for (var index = 0; index < this.children.length; index++) {\n                elem.addChild(this.children[index].clone());\n            }\n        }\n        return elem;\n    };\n    Element.prototype.cloneWithParent = function () {\n        var clone = this.clone(false);\n        if (this.parent && !(this.parent instanceof RootElement)) {\n            var parentClone = this.parent.cloneWithParent();\n            parentClone.addChild(clone);\n        }\n        return clone;\n    };\n    return Element;\n}());\nexport { Element };\nvar RootElement = /** @class */ (function (_super) {\n    __extends(RootElement, _super);\n    function RootElement() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return RootElement;\n}(Element));\nexport { RootElement };\nvar LabelElement = /** @class */ (function (_super) {\n    __extends(LabelElement, _super);\n    function LabelElement(label) {\n        var _this = _super.call(this) || this;\n        _this.addAttr('name', label);\n        return _this;\n    }\n    return LabelElement;\n}(Element));\nexport { LabelElement };\nvar MarkedStringPrinter = /** @class */ (function () {\n    function MarkedStringPrinter(quote) {\n        this.quote = quote;\n        this.result = [];\n        // empty\n    }\n    MarkedStringPrinter.prototype.print = function (element) {\n        this.result = [];\n        if (element instanceof RootElement) {\n            if (element.children) {\n                this.doPrint(element.children, 0);\n            }\n        }\n        else {\n            this.doPrint([element], 0);\n        }\n        var value = this.result.join('\\n');\n        return [{ language: 'html', value: value }];\n    };\n    MarkedStringPrinter.prototype.doPrint = function (elements, indent) {\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            this.doPrintElement(element, indent);\n            if (element.children) {\n                this.doPrint(element.children, indent + 1);\n            }\n        }\n    };\n    MarkedStringPrinter.prototype.writeLine = function (level, content) {\n        var indent = new Array(level + 1).join('  ');\n        this.result.push(indent + content);\n    };\n    MarkedStringPrinter.prototype.doPrintElement = function (element, indent) {\n        var name = element.findAttribute('name');\n        // special case: a simple label\n        if (element instanceof LabelElement || name === '\\u2026') {\n            this.writeLine(indent, name);\n            return;\n        }\n        // the real deal\n        var content = ['<'];\n        // element name\n        if (name) {\n            content.push(name);\n        }\n        else {\n            content.push('element');\n        }\n        // attributes\n        if (element.attributes) {\n            for (var _i = 0, _a = element.attributes; _i < _a.length; _i++) {\n                var attr = _a[_i];\n                if (attr.name !== 'name') {\n                    content.push(' ');\n                    content.push(attr.name);\n                    var value = attr.value;\n                    if (value) {\n                        content.push('=');\n                        content.push(quotes.ensure(value, this.quote));\n                    }\n                }\n            }\n        }\n        content.push('>');\n        this.writeLine(indent, content.join(''));\n    };\n    return MarkedStringPrinter;\n}());\nvar quotes;\n(function (quotes) {\n    function ensure(value, which) {\n        return which + remove(value) + which;\n    }\n    quotes.ensure = ensure;\n    function remove(value) {\n        var match = value.match(/^['\"](.*)[\"']$/);\n        if (match) {\n            return match[1];\n        }\n        return value;\n    }\n    quotes.remove = remove;\n})(quotes || (quotes = {}));\nvar Specificity = /** @class */ (function () {\n    function Specificity() {\n        /** Count of identifiers (e.g., `#app`) */\n        this.id = 0;\n        /** Count of attributes (`[type=\"number\"]`), classes (`.container-fluid`), and pseudo-classes (`:hover`) */\n        this.attr = 0;\n        /** Count of tag names (`div`), and pseudo-elements (`::before`) */\n        this.tag = 0;\n    }\n    return Specificity;\n}());\nexport function toElement(node, parentElement) {\n    var result = new Element();\n    for (var _i = 0, _a = node.getChildren(); _i < _a.length; _i++) {\n        var child = _a[_i];\n        switch (child.type) {\n            case nodes.NodeType.SelectorCombinator:\n                if (parentElement) {\n                    var segments = child.getText().split('&');\n                    if (segments.length === 1) {\n                        // should not happen\n                        result.addAttr('name', segments[0]);\n                        break;\n                    }\n                    result = parentElement.cloneWithParent();\n                    if (segments[0]) {\n                        var root = result.findRoot();\n                        root.prepend(segments[0]);\n                    }\n                    for (var i = 1; i < segments.length; i++) {\n                        if (i > 1) {\n                            var clone = parentElement.cloneWithParent();\n                            result.addChild(clone.findRoot());\n                            result = clone;\n                        }\n                        result.append(segments[i]);\n                    }\n                }\n                break;\n            case nodes.NodeType.SelectorPlaceholder:\n                if (child.matches('@at-root')) {\n                    return result;\n                }\n            // fall through\n            case nodes.NodeType.ElementNameSelector:\n                var text = child.getText();\n                result.addAttr('name', text === '*' ? 'element' : unescape(text));\n                break;\n            case nodes.NodeType.ClassSelector:\n                result.addAttr('class', unescape(child.getText().substring(1)));\n                break;\n            case nodes.NodeType.IdentifierSelector:\n                result.addAttr('id', unescape(child.getText().substring(1)));\n                break;\n            case nodes.NodeType.MixinDeclaration:\n                result.addAttr('class', child.getName());\n                break;\n            case nodes.NodeType.PseudoSelector:\n                result.addAttr(unescape(child.getText()), '');\n                break;\n            case nodes.NodeType.AttributeSelector:\n                var selector = child;\n                var identifier = selector.getIdentifier();\n                if (identifier) {\n                    var expression = selector.getValue();\n                    var operator = selector.getOperator();\n                    var value = void 0;\n                    if (expression && operator) {\n                        switch (unescape(operator.getText())) {\n                            case '|=':\n                                // excatly or followed by -words\n                                value = quotes.remove(unescape(expression.getText())) + \"-\\u2026\";\n                                break;\n                            case '^=':\n                                // prefix\n                                value = quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                                break;\n                            case '$=':\n                                // suffix\n                                value = \"\\u2026\" + quotes.remove(unescape(expression.getText()));\n                                break;\n                            case '~=':\n                                // one of a list of words\n                                value = \" \\u2026 \" + quotes.remove(unescape(expression.getText())) + \" \\u2026 \";\n                                break;\n                            case '*=':\n                                // substring\n                                value = \"\\u2026\" + quotes.remove(unescape(expression.getText())) + \"\\u2026\";\n                                break;\n                            default:\n                                value = quotes.remove(unescape(expression.getText()));\n                                break;\n                        }\n                    }\n                    result.addAttr(unescape(identifier.getText()), value);\n                }\n                break;\n        }\n    }\n    return result;\n}\nfunction unescape(content) {\n    var scanner = new Scanner();\n    scanner.setSource(content);\n    var token = scanner.scanUnquotedString();\n    if (token) {\n        return token.text;\n    }\n    return content;\n}\nfunction isPseudoElementIdentifier(text) {\n    var match = text.match(/^::?([\\w-]+)/);\n    if (!match) {\n        return false;\n    }\n    return !!languageFacts.cssDataManager.getPseudoElement(\"::\" + match[1]);\n}\nfunction selectorToSpecificityMarkedString(node) {\n    //https://www.w3.org/TR/selectors-3/#specificity\n    function calculateScore(node) {\n        node.getChildren().forEach(function (element) {\n            switch (element.type) {\n                case nodes.NodeType.IdentifierSelector:\n                    specificity.id++;\n                    break;\n                case nodes.NodeType.ClassSelector:\n                case nodes.NodeType.AttributeSelector:\n                    specificity.attr++;\n                    break;\n                case nodes.NodeType.ElementNameSelector:\n                    //ignore universal selector\n                    if (element.matches(\"*\")) {\n                        break;\n                    }\n                    specificity.tag++;\n                    break;\n                case nodes.NodeType.PseudoSelector:\n                    var text = element.getText();\n                    if (isPseudoElementIdentifier(text)) {\n                        specificity.tag++; // pseudo element\n                    }\n                    else {\n                        //ignore psuedo class NOT\n                        if (text.match(/^:not/i)) {\n                            break;\n                        }\n                        specificity.attr++; //pseudo class\n                    }\n                    break;\n            }\n            if (element.getChildren().length > 0) {\n                calculateScore(element);\n            }\n        });\n    }\n    var specificity = new Specificity();\n    calculateScore(node);\n    return localize('specificity', \"[Selector Specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity): ({0}, {1}, {2})\", specificity.id, specificity.attr, specificity.tag);\n}\nexport function selectorToMarkedString(node) {\n    var root = selectorToElement(node);\n    if (root) {\n        var markedStrings = new MarkedStringPrinter('\"').print(root);\n        markedStrings.push(selectorToSpecificityMarkedString(node));\n        return markedStrings;\n    }\n    else {\n        return [];\n    }\n}\nexport function simpleSelectorToMarkedString(node) {\n    var element = toElement(node);\n    var markedStrings = new MarkedStringPrinter('\"').print(element);\n    markedStrings.push(selectorToSpecificityMarkedString(node));\n    return markedStrings;\n}\nvar SelectorElementBuilder = /** @class */ (function () {\n    function SelectorElementBuilder(element) {\n        this.prev = null;\n        this.element = element;\n    }\n    SelectorElementBuilder.prototype.processSelector = function (selector) {\n        var parentElement = null;\n        if (!(this.element instanceof RootElement)) {\n            if (selector.getChildren().some(function (c) { return c.hasChildren() && c.getChild(0).type === nodes.NodeType.SelectorCombinator; })) {\n                var curr = this.element.findRoot();\n                if (curr.parent instanceof RootElement) {\n                    parentElement = this.element;\n                    this.element = curr.parent;\n                    this.element.removeChild(curr);\n                    this.prev = null;\n                }\n            }\n        }\n        for (var _i = 0, _a = selector.getChildren(); _i < _a.length; _i++) {\n            var selectorChild = _a[_i];\n            if (selectorChild instanceof nodes.SimpleSelector) {\n                if (this.prev instanceof nodes.SimpleSelector) {\n                    var labelElement = new LabelElement('\\u2026');\n                    this.element.addChild(labelElement);\n                    this.element = labelElement;\n                }\n                else if (this.prev && (this.prev.matches('+') || this.prev.matches('~')) && this.element.parent) {\n                    this.element = this.element.parent;\n                }\n                if (this.prev && this.prev.matches('~')) {\n                    this.element.addChild(toElement(selectorChild));\n                    this.element.addChild(new LabelElement('\\u22EE'));\n                }\n                var thisElement = toElement(selectorChild, parentElement);\n                var root = thisElement.findRoot();\n                this.element.addChild(root);\n                this.element = thisElement;\n            }\n            if (selectorChild instanceof nodes.SimpleSelector ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorParent ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorShadowPiercingDescendant ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorSibling ||\n                selectorChild.type === nodes.NodeType.SelectorCombinatorAllSiblings) {\n                this.prev = selectorChild;\n            }\n        }\n    };\n    return SelectorElementBuilder;\n}());\nfunction isNewSelectorContext(node) {\n    switch (node.type) {\n        case nodes.NodeType.MixinDeclaration:\n        case nodes.NodeType.Stylesheet:\n            return true;\n    }\n    return false;\n}\nexport function selectorToElement(node) {\n    if (node.matches('@at-root')) {\n        return null;\n    }\n    var root = new RootElement();\n    var parentRuleSets = [];\n    var ruleSet = node.getParent();\n    if (ruleSet instanceof nodes.RuleSet) {\n        var parent = ruleSet.getParent(); // parent of the selector's ruleset\n        while (parent && !isNewSelectorContext(parent)) {\n            if (parent instanceof nodes.RuleSet) {\n                if (parent.getSelectors().matches('@at-root')) {\n                    break;\n                }\n                parentRuleSets.push(parent);\n            }\n            parent = parent.getParent();\n        }\n    }\n    var builder = new SelectorElementBuilder(root);\n    for (var i = parentRuleSets.length - 1; i >= 0; i--) {\n        var selector = parentRuleSets[i].getSelectors().getChild(0);\n        if (selector) {\n            builder.processSelector(selector);\n        }\n    }\n    builder.processSelector(node);\n    return root;\n}\n"]},"metadata":{},"sourceType":"module"}