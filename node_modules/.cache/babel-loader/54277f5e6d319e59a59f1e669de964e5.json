{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function doRename(document, position, newName, htmlDocument) {\n  var _a;\n\n  var offset = document.offsetAt(position);\n  var node = htmlDocument.findNodeAt(offset);\n\n  if (!node.tag) {\n    return null;\n  }\n\n  if (!isWithinTagRange(node, offset, node.tag)) {\n    return null;\n  }\n\n  var edits = [];\n  var startTagRange = {\n    start: document.positionAt(node.start + '<'.length),\n    end: document.positionAt(node.start + '<'.length + node.tag.length)\n  };\n  edits.push({\n    range: startTagRange,\n    newText: newName\n  });\n\n  if (node.endTagStart) {\n    var endTagRange = {\n      start: document.positionAt(node.endTagStart + '</'.length),\n      end: document.positionAt(node.endTagStart + '</'.length + node.tag.length)\n    };\n    edits.push({\n      range: endTagRange,\n      newText: newName\n    });\n  }\n\n  var changes = (_a = {}, _a[document.uri.toString()] = edits, _a);\n  return {\n    changes: changes\n  };\n}\n\nfunction toLocString(p) {\n  return \"(\" + p.line + \", \" + p.character + \")\";\n}\n\nfunction isWithinTagRange(node, offset, nodeTag) {\n  // Self-closing tag\n  if (node.endTagStart) {\n    if (node.endTagStart + '</'.length <= offset && offset <= node.endTagStart + '</'.length + nodeTag.length) {\n      return true;\n    }\n  }\n\n  return node.start + '<'.length <= offset && offset <= node.start + '<'.length + nodeTag.length;\n}","map":{"version":3,"sources":["/home/chaithra/Documents/customised/customised/node_modules/monaco-editor/esm/vs/language/html/_deps/vscode-html-languageservice/services/htmlRename.js"],"names":["doRename","document","position","newName","htmlDocument","_a","offset","offsetAt","node","findNodeAt","tag","isWithinTagRange","edits","startTagRange","start","positionAt","length","end","push","range","newText","endTagStart","endTagRange","changes","uri","toString","toLocString","p","line","character","nodeTag"],"mappings":"AAAA;;;;AAIA,OAAO,SAASA,QAAT,CAAkBC,QAAlB,EAA4BC,QAA5B,EAAsCC,OAAtC,EAA+CC,YAA/C,EAA6D;AAChE,MAAIC,EAAJ;;AACA,MAAIC,MAAM,GAAGL,QAAQ,CAACM,QAAT,CAAkBL,QAAlB,CAAb;AACA,MAAIM,IAAI,GAAGJ,YAAY,CAACK,UAAb,CAAwBH,MAAxB,CAAX;;AACA,MAAI,CAACE,IAAI,CAACE,GAAV,EAAe;AACX,WAAO,IAAP;AACH;;AACD,MAAI,CAACC,gBAAgB,CAACH,IAAD,EAAOF,MAAP,EAAeE,IAAI,CAACE,GAApB,CAArB,EAA+C;AAC3C,WAAO,IAAP;AACH;;AACD,MAAIE,KAAK,GAAG,EAAZ;AACA,MAAIC,aAAa,GAAG;AAChBC,IAAAA,KAAK,EAAEb,QAAQ,CAACc,UAAT,CAAoBP,IAAI,CAACM,KAAL,GAAa,IAAIE,MAArC,CADS;AAEhBC,IAAAA,GAAG,EAAEhB,QAAQ,CAACc,UAAT,CAAoBP,IAAI,CAACM,KAAL,GAAa,IAAIE,MAAjB,GAA0BR,IAAI,CAACE,GAAL,CAASM,MAAvD;AAFW,GAApB;AAIAJ,EAAAA,KAAK,CAACM,IAAN,CAAW;AACPC,IAAAA,KAAK,EAAEN,aADA;AAEPO,IAAAA,OAAO,EAAEjB;AAFF,GAAX;;AAIA,MAAIK,IAAI,CAACa,WAAT,EAAsB;AAClB,QAAIC,WAAW,GAAG;AACdR,MAAAA,KAAK,EAAEb,QAAQ,CAACc,UAAT,CAAoBP,IAAI,CAACa,WAAL,GAAmB,KAAKL,MAA5C,CADO;AAEdC,MAAAA,GAAG,EAAEhB,QAAQ,CAACc,UAAT,CAAoBP,IAAI,CAACa,WAAL,GAAmB,KAAKL,MAAxB,GAAiCR,IAAI,CAACE,GAAL,CAASM,MAA9D;AAFS,KAAlB;AAIAJ,IAAAA,KAAK,CAACM,IAAN,CAAW;AACPC,MAAAA,KAAK,EAAEG,WADA;AAEPF,MAAAA,OAAO,EAAEjB;AAFF,KAAX;AAIH;;AACD,MAAIoB,OAAO,IAAIlB,EAAE,GAAG,EAAL,EACXA,EAAE,CAACJ,QAAQ,CAACuB,GAAT,CAAaC,QAAb,EAAD,CAAF,GAA8Bb,KADnB,EAEXP,EAFO,CAAX;AAGA,SAAO;AACHkB,IAAAA,OAAO,EAAEA;AADN,GAAP;AAGH;;AACD,SAASG,WAAT,CAAqBC,CAArB,EAAwB;AACpB,SAAO,MAAMA,CAAC,CAACC,IAAR,GAAe,IAAf,GAAsBD,CAAC,CAACE,SAAxB,GAAoC,GAA3C;AACH;;AACD,SAASlB,gBAAT,CAA0BH,IAA1B,EAAgCF,MAAhC,EAAwCwB,OAAxC,EAAiD;AAC7C;AACA,MAAItB,IAAI,CAACa,WAAT,EAAsB;AAClB,QAAIb,IAAI,CAACa,WAAL,GAAmB,KAAKL,MAAxB,IAAkCV,MAAlC,IAA4CA,MAAM,IAAIE,IAAI,CAACa,WAAL,GAAmB,KAAKL,MAAxB,GAAiCc,OAAO,CAACd,MAAnG,EAA2G;AACvG,aAAO,IAAP;AACH;AACJ;;AACD,SAAOR,IAAI,CAACM,KAAL,GAAa,IAAIE,MAAjB,IAA2BV,MAA3B,IAAqCA,MAAM,IAAIE,IAAI,CAACM,KAAL,GAAa,IAAIE,MAAjB,GAA0Bc,OAAO,CAACd,MAAxF;AACH","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function doRename(document, position, newName, htmlDocument) {\n    var _a;\n    var offset = document.offsetAt(position);\n    var node = htmlDocument.findNodeAt(offset);\n    if (!node.tag) {\n        return null;\n    }\n    if (!isWithinTagRange(node, offset, node.tag)) {\n        return null;\n    }\n    var edits = [];\n    var startTagRange = {\n        start: document.positionAt(node.start + '<'.length),\n        end: document.positionAt(node.start + '<'.length + node.tag.length)\n    };\n    edits.push({\n        range: startTagRange,\n        newText: newName\n    });\n    if (node.endTagStart) {\n        var endTagRange = {\n            start: document.positionAt(node.endTagStart + '</'.length),\n            end: document.positionAt(node.endTagStart + '</'.length + node.tag.length)\n        };\n        edits.push({\n            range: endTagRange,\n            newText: newName\n        });\n    }\n    var changes = (_a = {},\n        _a[document.uri.toString()] = edits,\n        _a);\n    return {\n        changes: changes\n    };\n}\nfunction toLocString(p) {\n    return \"(\" + p.line + \", \" + p.character + \")\";\n}\nfunction isWithinTagRange(node, offset, nodeTag) {\n    // Self-closing tag\n    if (node.endTagStart) {\n        if (node.endTagStart + '</'.length <= offset && offset <= node.endTagStart + '</'.length + nodeTag.length) {\n            return true;\n        }\n    }\n    return node.start + '<'.length <= offset && offset <= node.start + '<'.length + nodeTag.length;\n}\n"]},"metadata":{},"sourceType":"module"}